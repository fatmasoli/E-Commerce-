<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>logIn</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
</head>

<body>

    <!-- nav  -->

    <nav class="custom-navbar navbar navbar navbar-expand-md navbar-dark bg-dark" arial-label="Furni navigation bar">

        <div class="container">
          <a class="navbar-brand" href="index.html">ProjectJs<span>.</span></a>
    
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsFurni" aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
    
          <div class="collapse navbar-collapse" id="navbarsFurni">
            <ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
                <li class="nav-item">
                    <a class="nav-link text-black" href="register.html">register</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-black" href="login.html">log in</a>
                </li>
                <li>
                    <a class="nav-link text-black" href="loginAdmin.html"><i class="fa-solid fa-user"></i></a>
                </li>
            </ul>
    
          
          </div>
        </div>
          
      </nav>

   

    <!-- log in form -->

    <div class="container mt-5 ">
        <div class="w-50 m-auto">
            <h2>Log In</h2>

        
            <div id="loginError" class="text-danger mt-3"></div>

                <div class="form-group mb-3 mt-5">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" placeholder="Enter Email" class="form-control" required>
                </div>


                <div class="form-group mb-3">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" placeholder="Enter Password"
                        class="form-control" required>
                </div>
                <div class="text-center">
                    <button class="btn btn-success" onclick="saveData()" id="save_btn">Submit</button>
                </div>
    
        </div>
    </div>





    <!-- js code for log in -->
    <script>

        function saveData() {

            var email = document.getElementById("email").value;
            var password = document.getElementById("password").value;

            var userRecords = new Array();


            userRecords = JSON.parse(localStorage.getItem("users")) ? JSON.parse(localStorage.getItem("users")) : []

            if (userRecords.some((v) => {

                return v.email == email && v.password==password

            })) {
                alert("log in successfully")
                var currenUser = userRecords.filter((v) => {
                    return v.email == email && v.password==password

                })[0]

                localStorage.setItem("name",currenUser.name);
                localStorage.setItem("email", currenUser.email);

                window.location.href="home.html"
            


            } else {

                
                console.log("Invalid Email or Password");
                document.getElementById("loginError").innerHTML = "Invalid Email or Password";
            }

                
            }


    
        



    </script>







</body>

</html>